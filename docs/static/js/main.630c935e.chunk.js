(this["webpackJsonpchallenge-ezequiel-sanpedro"]=this["webpackJsonpchallenge-ezequiel-sanpedro"]||[]).push([[0],{159:function(e,t,n){},179:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(34),c=n.n(r),o=n(24),s=n(61),i=n(10),l=n(55),u=(n(159),n.p,n(191)),j=n(194),d=n(137),b=n(196),m=n(104),h=n(193),p=n(192),O=n(85),f=n(18),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(l.a)(t,2),r=n[0],c=n[1],o=function(){c(e)},s=function(e){var t=e.target;c(Object(f.a)(Object(f.a)({},r),{},Object(O.a)({},t.name,t.value)))};return[r,s,o]},g=n(57),v=n.n(g),w=n(111),y=n(35),N=n.n(y),k="https://mern-calendar-ezequiel.herokuapp.com/api",E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(k,"/").concat(e);return"GET"===n?fetch(a):fetch(a,{method:n,headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(k,"/").concat(e),r=localStorage.getItem("token")||"";return"GET"===n?fetch(a,{method:n,headers:{"x-token":r}}):fetch(a,{method:n,headers:{"x-token":r,"Content-type":"application/json"},body:JSON.stringify(t)})},C="[auth] Finish checking login state",T="[auth] Login",P="[auth] Logout",_=function(e){return{type:T,payload:e}},I=function(){return{type:C}},z=function(){return{type:P}},q=n(2),D=function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.auth})).button,r=Object(a.useState)(!0),c=Object(l.a)(r,2),s=c[0],i=c[1],O=x({lEmail:"",lPassword:""}),f=Object(l.a)(O,3),g=f[0],y=f[1],k=f[2],S=g.lEmail,C=g.lPassword;Object(a.useEffect)((function(){i(!0)}),[n]);return Object(q.jsx)("div",{style:{marginTop:"30vh"},children:Object(q.jsx)(u.a,{fluid:!0,children:Object(q.jsxs)(j.a,{container:!0,children:[Object(q.jsx)(j.a.Column,{mobile:16,tablet:16,computer:8,children:Object(q.jsx)(d.a,{src:"https://res.cloudinary.com/dgtatdswf/image/upload/v1635797607/img_login_candidate_vwtjpj.png",style:{height:"210px"},centered:!0})}),Object(q.jsxs)(j.a.Column,{mobile:16,tablet:16,computer:8,children:[Object(q.jsxs)(b.a,{as:"h1",textAlign:"center",children:["Candidate Login.",Object(q.jsxs)(b.a.Subheader,{children:["Please login here to access your ",Object(q.jsx)("strong",{children:"account"}),"."]})]}),Object(q.jsxs)(p.a,{name:"form",size:"large",onSubmit:function(e){var n,a;e.preventDefault(),t((n=S,a=C,function(){var e=Object(w.a)(v.a.mark((function e(t){var r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("auth",{email:n,password:a},"POST");case 2:return r=e.sent,e.next=5,r.json();case 5:(c=e.sent).ok?(localStorage.setItem("token",c.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(_({uid:c.uid,name:c.name}))):N.a.fire("Error",c.msg,"error");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),i(!1),k()},children:[Object(q.jsx)(p.a.Input,{type:"email",name:"lEmail",value:S,onChange:y,label:"Email",placeholder:"inbox@mail.com",size:"large",required:!0,validations:"isEmail"}),Object(q.jsx)(p.a.Input,{type:"password",name:"lPassword",value:C,onChange:y,label:"Password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022",size:"large",required:!0}),Object(q.jsx)(m.a,{className:"labelCustom"}),Object(q.jsx)("div",{className:"form-group",onClick:function(){N.a.fire("Information","Try again in a  few minutes","info")},children:Object(q.jsx)("input",{type:"submit",className:"labelCustom",value:"Forgot your password?"})}),Object(q.jsx)("div",{className:"form-group",onClick:function(){e.history.push("/register")},children:Object(q.jsx)("input",{type:"submit",className:"labelCustom",value:"Create an account"})}),s?Object(q.jsx)(h.a,{positive:!0,fluid:!0,active:!0,size:"large",children:" Login"}):Object(q.jsx)(h.a,{positive:!0,fluid:!0,disabled:!0,loading:!0,primary:!0,size:"large",children:" Login"})]})]})]})})})},L=function(){var e=Object(o.c)((function(e){return e.auth})).name,t=Object(o.b)();return Object(q.jsxs)("div",{className:"navbar navbar-dark bg-dark mb-4",children:[Object(q.jsx)("span",{className:"navbar-brand",children:e}),Object(q.jsxs)("button",{className:"btn btn-outline-danger",onClick:function(){t((function(e){localStorage.clear(),e(z())}))},children:[Object(q.jsx)("i",{className:"fas fa-sign-out-alt"}),Object(q.jsx)("span",{children:" Salir"})]})]})},G=function(){return Object(q.jsxs)("div",{children:[Object(q.jsx)(L,{}),Object(q.jsx)(u.a,{text:!0,children:"This is about us"})]})},J=function(){return Object(q.jsxs)("div",{children:[Object(q.jsx)(L,{}),Object(q.jsxs)(u.a,{text:!0,children:["This is home...",Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsx)(h.a,{as:s.b,to:"/about-us",children:"ABOUT US"})]})]})},A=n(108),R=["authenticated","component"],U=function(e){var t=e.authenticated,n=e.component,a=Object(A.a)(e,R);return Object(q.jsx)(i.b,Object(f.a)(Object(f.a)({},a),{},{component:function(e){return t?Object(q.jsx)(n,Object(f.a)({},e)):Object(q.jsx)(i.a,{to:"/login"})}}))},B=["authenticated","component"],F=function(e){var t=e.authenticated,n=e.component,a=Object(A.a)(e,B);return Object(q.jsx)(i.b,Object(f.a)(Object(f.a)({},a),{},{component:function(e){return!1===t?Object(q.jsx)(n,Object(f.a)({},e)):Object(q.jsx)(i.a,{to:"/"})}}))},X=function(e){var t=Object(o.b)(),n=x({rName:"Your Name",rEmail:"email@gmail.com",rPassword1:"******",rPassword2:"******"}),a=Object(l.a)(n,2),r=a[0],c=a[1],s=r.rName,i=r.rEmail,u=r.rPassword1,j=r.rPassword2;return Object(q.jsx)("div",{className:"container login-container",children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-md-6 login-form-1",children:Object(q.jsx)(d.a,{src:"https://res.cloudinary.com/dgtatdswf/image/upload/v1635797607/img_login_candidate_vwtjpj.png",style:{height:"210px"},centered:!0})}),Object(q.jsxs)("div",{className:"col-md-6 login-form-2",children:[Object(q.jsx)("h3",{children:"Register"}),Object(q.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),""===i?N.a.fire("Error","Email is required","error"):""===s?N.a.fire("Error","Name is required","error"):u!==j?N.a.fire("Error","Las contrase\xf1as deben de ser iguales","error"):void t((n=i,a=u,r=s,function(){var e=Object(w.a)(v.a.mark((function e(t){var c,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("auth/new",{email:n,password:a,name:r},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:(o=e.sent).ok?(localStorage.setItem("token",o.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(_({uid:o.uid,name:o.name}))):N.a.fire("Error",o.msg,"error");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n,a,r},children:[Object(q.jsx)("div",{className:"form-group",children:Object(q.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre",name:"rName",value:s,onChange:c})}),Object(q.jsx)("div",{className:"form-group",children:Object(q.jsx)("input",{type:"email",className:"form-control",placeholder:"Correo",name:"rEmail",value:i,onChange:c})}),Object(q.jsx)("div",{className:"form-group",children:Object(q.jsx)("input",{type:"password",className:"form-control",placeholder:"Contrase\xf1a",name:"rPassword1",value:u,onChange:c})}),Object(q.jsx)("div",{className:"form-group",children:Object(q.jsx)("input",{type:"password",className:"form-control",placeholder:"Repita la contrase\xf1a",name:"rPassword2",value:j,onChange:c})}),Object(q.jsx)("div",{className:"form-group",style:{textAlign:"center"},children:Object(q.jsx)("input",{type:"submit",className:"btnSubmit",value:"Create your account"})})]})]})]})})},M=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.auth})).uid;return Object(a.useEffect)((function(){e(function(){var e=Object(w.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("auth/renew",{},"GET");case 2:return n=e.sent,e.next=5,n.json();case 5:(a=e.sent).ok?(localStorage.setItem("token",a.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(_({uid:a.uid,name:a.name}))):t(I());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(q.jsx)(s.a,{children:Object(q.jsx)("div",{children:Object(q.jsxs)(i.d,{children:[Object(q.jsx)(F,{exact:!0,path:"/login",component:D,authenticated:!!t}),Object(q.jsx)(F,{exact:!0,path:"/register",component:X,authenticated:!!t}),Object(q.jsx)(U,{exact:!0,path:"/",component:J,authenticated:!!t}),Object(q.jsx)(U,{exact:!0,path:"/about-us",component:G,authenticated:!!t}),Object(q.jsx)(i.a,{to:"/"})]})})})},V=n(78),Y=n(136),H={checking:!0,button:!0},K=Object(V.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(f.a)(Object(f.a)({},e),{},{checking:!1,button:!0},t.payload);case C:return Object(f.a)(Object(f.a)({},e),{},{checking:!1});case P:return{checking:!1};default:return e}}}),Q="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||V.c,W=Object(V.d)(K,Q(Object(V.a)(Y.a))),Z=function(){return Object(q.jsx)(o.a,{store:W,children:Object(q.jsx)(M,{})})};n(178);c.a.render(Object(q.jsx)(Z,{}),document.getElementById("root"))}},[[179,1,2]]]);
//# sourceMappingURL=main.630c935e.chunk.js.map